Dynamic Material Instance

적의 색 타입에 따라 적의 모습이 바뀌었으면 좋겠다!
-> 단순하게 색만 바꾸는데 적의 material 파일 전체를 바꿔야되나?
비효율적이고 material 전환 시 상당한 렉 유발

지금은 동적으로 메터리얼을 바꿔야 될 상황
그 때 쓸 수 있는 것이 바로 이 MID!!

런타임에 코드를 통해 파라미터 값을 바꿀 수 있는 material instance

```c++
USkeletalMeshComponent* BodyMesh = GetMesh();
if(BodyMesh)
{
	BodyMID = BodyMesh->CreateAndSetMaterialInstanceDynamic(0);
}
```
SkeletalMeshComp 메서드 CreateAndSetMaterialInstanceDynamic을 사용하여 MID를 만들 수 있다.
이 때 인자로는 현재 SKM의 몇번 째 material을 가져올건지 지정하는 것이다.

멀티 환경 특성상 서버에서 색을 바꿔주고 그것을 서버가 클라에게 복제해줘야한다

흐름도를 작성해보자
##### 1. 스폰 요청
현재는 테스트 과정이기에 PlayerController에서 PoolManager의 SpawnEnemy를 호출한다
이 때 SpawnEnemy는 풀에 있는 적인지 확인하는데 테스트 과정에서는 풀에 있다고만 가정할거다. 실제로도 그럴거기 때문이다. (풀링 힘들게 만들어놨는데 잘써야지)
##### 2. 스폰 처리
Enemy->ChangeColorType(EEnemyColor ColorType); 이 코드를 통해 적의 색상을 정해준다
에디터 상에서 초기화를 해두긴 했는데 의미가 없다
##### 3. 상태 변화 및 복제 (Enemy Server -> Enemy Client)
서버에 있는 적이 명령을 받으면, 자신의 상태를 바구고 이 변경사항은 모든 클라이언트에게 자동으로 전파된다
이게 가능한 이유는 UPROPERTY(Replicated)!! <- 얘가 있으면 언리얼 엔진이 알아서 해줌

ColorType을 Replicated로 선언했다
이로 인해서 변수가 변경되면 클라이언트에 보내야 한다고 인식한다

이렇게 복제해서 보내주면 클라가 값을 수신한다

그 다음에 ReplicatedUsing이라는 특별한 설정이 붙어있다는 것을 확인한다! 누가? 엔진이
ReplicatedUsing = OnRep_ColorType라고 설정을 해줬기에 호출된다
이렇게 클라까지도 바뀐 변수를 통해 MDI를 바꿀 수 있게 되는 것이다

ChangeColorType에서는 사실 상 변수만 바꾸고 MID를 바꾸는게 아니다.